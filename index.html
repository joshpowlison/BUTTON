<!DOCTYPE HTML>
<html>
<head>
	<title>BUTTON</title>
	<style>
		body{
			margin:0;
			padding:0;
		}
	
		#button{
			background-color:red;
			border-radius:100%;
			
			width:10vw;
			height:10vw;
			margin:auto;
		}
		
		#number{
			text-align:center;
		}
	</style>
</head>
<body>
	<div id="number">0</div> <div id="button"></div>
	<script>
		const BUTTON		= document.getElementById('button');
		const NUMBER		= document.getElementById('number');
		
		var number			= 0;
		var windowPresses	= [];
		var buttonPresses	= [];
	
		function incrementNumber(event){
			number++;
			NUMBER.innerHTML = number;
		}
		
		// BUTTON.addEventListener('click',pressButton);
		
		window.addEventListener('mousedown',function(event){
			// Press on the window
			windowPresses.push('mouse');
			// Press on the button if needbe
			if(event.target === BUTTON) buttonPresses.push('mouse');
		});
		
		window.addEventListener('mouseup',function(event){
			// If the mouse is pressing the button, increment the number
			if(buttonPresses.length){
				incrementNumber();
			}
		
			// Remove all traces of presses
			windowPresses = [];
			buttonPresses = [];
		});
		
		window.addEventListener('mousemove',function(event){
			// If the window is being pressed on
			if(windowPresses.length){
				// If the button is being moved onto with a pressed button, add it to the tracked presses
				if(event.target === BUTTON && !buttonPresses.length){
					buttonPresses.push('mouse');
				}
				// If the button is being moved off of, track the press
				else if(event.target !== BUTTON && buttonPresses.length){
					incrementNumber();
					buttonPresses = [];
				}
			}
		});
	</script>
</body>
</html>